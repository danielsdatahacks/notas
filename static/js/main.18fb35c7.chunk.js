/*! For license information please see main.18fb35c7.chunk.js.LICENSE.txt */
(this.webpackJsonpnotas=this.webpackJsonpnotas||[]).push([[0],{22:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(2),i=n.n(r),a=n(9),c=n.n(a),s=(n(22),n(5)),l=n.n(s),d=n(8),h=n(3),u=n(1),f=n(10),g=n(15),j=n(11),b=(n(24),n.p+"static/media/logo512.998b52df.png"),y=n(12),p=n(13),v=n(16),x=n(14),O=function(e){Object(v.a)(n,e);var t=Object(x.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(o.jsxs)("svg",{id:"_x31_px",fill:"black",enableBackground:"new 0 0 24 24",height:"20",viewBox:"0 0 24 24",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Object(o.jsx)("path",{d:"m12 16c-.128 0-.256-.049-.354-.146l-5.5-5.5c-.143-.144-.186-.358-.108-.545.077-.187.26-.309.462-.309h3v-6.5c0-.551.449-1 1-1h3c.551 0 1 .449 1 1v6.5h3c.202 0 .385.122.462.309.078.187.035.402-.108.545l-5.5 5.5c-.098.097-.226.146-.354.146zm-4.293-5.5 4.293 4.293 4.293-4.293h-2.293c-.276 0-.5-.224-.5-.5v-7h-3v7c0 .276-.224.5-.5.5z"}),Object(o.jsx)("path",{d:"m22.5 22h-21c-.827 0-1.5-.673-1.5-1.5v-1c0-.827.673-1.5 1.5-1.5h21c.827 0 1.5.673 1.5 1.5v1c0 .827-.673 1.5-1.5 1.5zm-21-3c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5h21c.276 0 .5-.224.5-.5v-1c0-.276-.224-.5-.5-.5z"})]})}}]),n}(r.Component);function w(e){return Object(o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15000 15000",children:[Object.keys(e.Graph.NodeDictionary).map((function(t){return e.Graph.NodeDictionary[t].LinksTowards.map((function(n){return Object(o.jsx)("line",{x1:e.Graph.NodeDictionary[t].X.toString(),y1:e.Graph.NodeDictionary[t].Y.toString(),x2:e.Graph.NodeDictionary[n].X.toString(),y2:e.Graph.NodeDictionary[n].Y.toString(),style:{stroke:"grey",strokeWidth:4}},t+n)}))})),Object.keys(e.Graph.NodeDictionary).map((function(t){return Object(o.jsxs)("g",{id:t,children:[Object(o.jsx)("circle",{cx:e.Graph.NodeDictionary[t].X.toString(),cy:e.Graph.NodeDictionary[t].Y.toString(),r:"40",stroke:"lightgrey",strokeWidth:"4",fill:"grey"},t),Object(o.jsx)("text",{x:(e.Graph.NodeDictionary[t].X-40).toString(),y:(e.Graph.NodeDictionary[t].Y+60).toString(),style:{textAlign:"center",fontSize:"30"},children:e.Graph.NodeDictionary[t].Name})]})})),Object(o.jsx)("circle",{cx:7500,cy:7500,r:"20",stroke:"lightgrey",strokeWidth:"2",fill:"red"},"center")]})}var N=function(){var e=Object(r.useState)({Energy:1e3,NodeDictionary:{}}),t=Object(g.a)(e,2),n=t[0],i=t[1];function a(){return(a=Object(f.a)(l.a.mark((function e(){var t,o,r,a,c,s,f,g,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n,e.next=3,window.showDirectoryPicker();case 3:o=e.sent,r=!0,a=!1,e.prev=6,s=Object(j.a)(o.values());case 8:return e.next=10,s.next();case 10:return f=e.sent,r=f.done,e.next=14,f.value;case 14:if(g=e.sent,r){e.next=24;break}if(b=g,console.log(b.name),"directory"!==b.kind){e.next=20;break}return e.delegateYield(l.a.mark((function e(){var n,r,i,a,c,s,f,g,j,y,p,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getDirectoryHandle(b.name);case 2:return r=e.sent,e.next=5,r.getFileHandle("info.json");case 5:return i=e.sent,e.next=8,i.getFile();case 8:return a=e.sent,e.t0=JSON,e.next=12,a.text();case 12:return e.t1=e.sent,c=e.t0.parse.call(e.t0,e.t1),s=c["net.shinyfrog.bear"].uniqueIdentifier,e.next=17,r.getFileHandle("text.txt");case 17:return f=e.sent,e.next=20,f.getFile();case 20:return g=e.sent,e.next=23,g.text();case 23:j=e.sent,y=j.slice(2,j.indexOf("\n")),p=[],null===(n=j.match(/\[.+\]+\([a-zA-Z\:\/\-\?]+id=+[A-Za-z0-9\-]+\)/g))||void 0===n||n.forEach((function(e){var t;console.log(e),null===(t=e.match(/id=.+\)/g))||void 0===t||t.forEach((function(e){var t=e.slice(3,e.length-1);p.includes(t)||p.push(e.slice(3,e.length-1))}))})),t=s in t.NodeDictionary?Object(u.a)(Object(u.a)({},t),{},{NodeDictionary:Object(u.a)(Object(u.a)({},t.NodeDictionary),{},Object(h.a)({},s,{ID:s,Name:y,Text:j,X:t.NodeDictionary[s].X,Y:t.NodeDictionary[s].Y,LinksTowards:[].concat(Object(d.a)(t.NodeDictionary[s].LinksTowards),p),LinksFrom:t.NodeDictionary[s].LinksFrom}))}):Object(u.a)(Object(u.a)({},t),{},{NodeDictionary:Object(u.a)(Object(u.a)({},t.NodeDictionary),{},Object(h.a)({},s,{ID:s,Name:y,Text:j,X:Math.floor(Math.random()*Math.floor(3e3)),Y:Math.floor(Math.random()*Math.floor(3e3)),LinksTowards:p,LinksFrom:[]}))});for(v=0;v<p.length;v++)t=p[v]in t.NodeDictionary?Object(u.a)(Object(u.a)({},t),{},{NodeDictionary:Object(u.a)(Object(u.a)({},t.NodeDictionary),{},Object(h.a)({},p[v],Object(u.a)(Object(u.a)({},t.NodeDictionary[p[v]]),{},{LinksFrom:[].concat(Object(d.a)(t.NodeDictionary[p[v]].LinksFrom),[s])})))}):Object(u.a)(Object(u.a)({},t),{},{NodeDictionary:Object(u.a)(Object(u.a)({},t.NodeDictionary),{},Object(h.a)({},p[v],{ID:p[v],Name:"",Text:"",X:Math.floor(Math.random()*Math.floor(3e3)),Y:Math.floor(Math.random()*Math.floor(3e3)),LinksTowards:[],LinksFrom:[s]}))});case 30:case"end":return e.stop()}}),e)}))(),"t0",20);case 20:i(t);case 21:r=!0,e.next=8;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(6),a=!0,c=e.t1;case 30:if(e.prev=30,e.prev=31,r||null==s.return){e.next=35;break}return e.next=35,s.return();case 35:if(e.prev=35,!a){e.next=38;break}throw c;case 38:return e.finish(35);case 39:return e.finish(30);case 40:case"end":return e.stop()}}),e,null,[[6,26,30,40],[31,,35,39]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=setTimeout((function(){i(Object(u.a)({},function(e){var t=e,n=[7500,7500],o=.5;console.log("ForceTransformedBefore:"),console.log(e);var r=0;return Object.keys(e.NodeDictionary).forEach((function(i){var a=e.NodeDictionary[i].X,c=e.NodeDictionary[i].Y,s=0,l=0;Object.keys(e.NodeDictionary).forEach((function(t){if(t!==i){var n=e.NodeDictionary[t].X,o=e.NodeDictionary[t].Y,r=Math.sqrt(Math.pow(a-n,2)+Math.pow(c-o,2));r<Math.pow(10,-3)&&(r=.5),s+=80*-(n-a)/r,l+=80*-(o-c)/r}})),s+=-(a-n[0]),l+=-(c-n[1]),e.NodeDictionary[i].LinksTowards.forEach((function(t){var n=e.NodeDictionary[t].X,r=e.NodeDictionary[t].Y;s+=(n-a)*o,l+=(r-c)*o})),e.NodeDictionary[i].LinksFrom.forEach((function(t){var n=e.NodeDictionary[t].X,r=e.NodeDictionary[t].Y;s+=(n-a)*o,l+=(r-c)*o})),r+=Math.pow(s,2)+Math.pow(l,2);var d=a+.1*s,h=c+.1*l;t.NodeDictionary[i].X=d,t.NodeDictionary[i].Y=h})),t.Energy=r,console.log("ForceTransformedAfter:"),console.log(t),t}(n)))}),40);return function(){return clearTimeout(e)}})),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsxs)("div",{className:"App-header",children:[Object(o.jsx)("div",{onClick:function(){return a.apply(this,arguments)},children:Object(o.jsx)(O,{})}),Object(o.jsx)("img",{className:"notas-logo",src:b,alt:""})]}),Object(o.jsx)(w,{Graph:n})]})},k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),o(e),r(e),i(e),a(e)}))};c.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(N,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/notas",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/notas","/service-worker.js");k?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):D(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):D(t,e)}))}}(),m()}},[[25,1,2]]]);
//# sourceMappingURL=main.18fb35c7.chunk.js.map